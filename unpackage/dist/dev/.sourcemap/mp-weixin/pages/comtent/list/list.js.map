{"version":3,"file":"list.js","sources":["pages/comtent/list/list.uvue","../../HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvY29tdGVudC9saXN0L2xpc3QudXZ1ZQ"],"sourcesContent":["<template>\n  <view class=\"container\">\n    <!-- È°∂ÈÉ®ÂØºËà™ÊåâÈíÆ -->\r\n\t<!--\n    <view class=\"top-nav\">\n      <view class=\"nav-btn\" @click=\"goUpload\">‰∏ä‰º†</view>\n      <view class=\"nav-btn\" @click=\"goProfile\">‰∏™‰∫∫‰∏≠ÂøÉ</view>\n    </view>\r\n\t-->\n\n    <!-- ÊêúÁ¥¢Ê†èÂå∫Âüü -->\n    <view class=\"search-bar\">\n      <input\n        type=\"text\"\n        v-model=\"keyword\"\n        placeholder=\"ÊêúÁ¥¢Ê†áÈ¢òÊàñÊèèËø∞...\"\n        @confirm=\"onSearch\"\n      />\n      <button @click=\"showFilterModal\">Á≠õÈÄâ</button>\n    </view>\n\n    <!-- Á≠õÈÄâÂºπÁ™ó -->\n    <view v-if=\"showFilter\" class=\"filter-modal\">\n      <!-- ÊâãÂä®ËæìÂÖ•Ê†áÁ≠æ -->\n      <view class=\"filter-item\">\n        <text>ÊåâÊ†áÁ≠æÁ≠õÈÄâÔºö</text>\n        <input\n          type=\"text\"\n          v-model=\"manualTagInput\"\n          placeholder=\"Â¶ÇÔºöÁæéÈ£ü,ÊóÖË°åÔºàÂõûËΩ¶Â∫îÁî®Ôºâ\"\n          @confirm=\"applyFilters\"\n          style=\"flex: 1; margin-left: 20rpx; padding: 10rpx; border: 1rpx solid #ddd; border-radius: 10rpx;\"\n        />\n      </view>\n\n      <view class=\"filter-item\">\n        <text>ÊåâÁ±ªÂûãÁ≠õÈÄâÔºö</text>\n        <picker @change=\"onTypeChange\" :value=\"selectedTypeIndex\" :range=\"types\">\n          <text>{{ types[selectedTypeIndex] }}</text>\n        </picker>\n      </view>\n      <view class=\"filter-item\">\n        <text>ÊåâÊó•ÊúüËåÉÂõ¥Ôºö</text>\n        <picker @change=\"onDateRangeChange\" :value=\"dateRangeIndex\" :range=\"dateRanges\">\n          <text>{{ dateRanges[dateRangeIndex] }}</text>\n        </picker>\n      </view>\n      <button @click=\"applyFilters\">Â∫îÁî®Á≠õÈÄâ</button>\n      <button @click=\"closeFilter\">ÂèñÊ∂à</button>\n    </view>\n\n    <!-- ‰ªÖÁúãËá™Â∑±ÊåâÈíÆ -->\n    <view class=\"self-only-toggle\">\n      <button @click=\"toggleSelfOnly\" :class=\"{ active: showOnlyMine }\">\n        {{ showOnlyMine ? 'ÂèñÊ∂à‰ªÖÁúãËá™Â∑±' : '‰ªÖÁúãËá™Â∑±' }}\n      </button>\n    </view>\n\n    <!-- ÂÜÖÂÆπÂàóË°® -->\n    <scroll-view scroll-y class=\"content-list\" @scrolltolower=\"onScrollToLower\">\n      <view v-for=\"(item, index) in filteredPosts\" :key=\"item.id\" class=\"post-item\">\n        <!-- Â§¥ÈÉ®ÔºöÂ§¥ÂÉè + ‰ΩúËÄÖ + Ê†áÈ¢ò + Êó∂Èó¥ -->\n        <view class=\"post-header\">\n          <!-- Â§¥ÂÉè + ÊòµÁß∞ -->\n          <view class=\"author-line\">\n            <view class=\"avatar-container\">\n              <image :src=\"item.avatarUrl\" mode=\"aspectFill\" class=\"avatar\"></image>\n            </view>\n            <text class=\"post-author\">{{ item.author }}</text>\n          </view>\n        \n          <!-- Ê†áÈ¢ò -->\n          <text class=\"post-title\">{{ item.title }}</text>\n        \n          <!-- Êó∂Èó¥ -->\n          <text class=\"post-time\">{{ item.createdAt }}</text>\n        </view>\n\n        <!-- ÊèèËø∞ÊñáÂ≠ó -->\n        <view v-if=\"item.description\" class=\"post-description\">\n          {{ item.description }}\n        </view>\n\n        <!-- Â™í‰ΩìÂå∫Âüü -->\n        <view v-if=\"item.type === 'image' || item.type === 'video'\" class=\"media-container\">\n          <image v-if=\"item.type === 'image'\" :src=\"item.mediaUrl\" mode=\"aspectFill\" class=\"media-image\"></image>\n          <video v-else-if=\"item.type === 'video'\" :src=\"item.mediaUrl\" class=\"media-video\" controls></video>\n        </view>\n\n        <view class=\"post-footer\">\n          <text class=\"stat-item\">üëÅÔ∏è {{ item.views }} ÊµèËßà</text>\n          <text class=\"stat-item\">üëç {{ item.likes }} ÁÇπËµû</text>\n          <text class=\"stat-item\">üí¨ {{ item.comments }} ËØÑËÆ∫</text>\n        </view>\n\n        <view v-if=\"isMyPost(item)\" class=\"post-actions\">\n          <button @click=\"editPost(item)\">ÁºñËæë</button>\n          <button @click=\"confirmDelete(item)\">Âà†Èô§</button>\n        </view>\n\n        <navigator :url=\"'/pages/comtent/detail/detail?id=' + item.id\" class=\"post-link\">\n          <text class=\"detail-link\">Êü•ÁúãËØ¶ÊÉÖ</text>\n        </navigator>\n      </view>\n\n      <!-- Âä†ËΩΩÊèêÁ§∫ -->\n      <view v-if=\"loading && posts.length > 0\" class=\"loading-more\">Âä†ËΩΩ‰∏≠...</view>\n      <view v-else-if=\"!hasMore && posts.length > 0\" class=\"no-more\">Ê≤°ÊúâÊõ¥Â§öÂÜÖÂÆπ‰∫Ü</view>\n      <view v-else-if=\"posts.length === 0 && !loading\" class=\"empty-tips\">ÊöÇÊó†ÂÜÖÂÆπ</view>\n    </scroll-view>\n\n    <!-- Âà†Èô§Á°ÆËÆ§ÂºπÁ™ó -->\n    <view v-if=\"showDeleteConfirm\" class=\"delete-confirm\">\n      <text>Á°ÆÂÆöË¶ÅÂà†Èô§ËøôÊù°ÂÜÖÂÆπÂêóÔºü</text>\n      <button @click=\"deletePost\">Á°ÆËÆ§</button>\n      <button @click=\"cancelDelete\">ÂèñÊ∂à</button>\n    </view>\n  </view>\n</template>\n\n<script setup lang=\"uts\">\nimport { ref, computed, onMounted } from 'vue'\nimport { onLoad } from '@dcloudio/uni-app'\n\n// ===== Êï∞ÊçÆÁä∂ÊÄÅ =====\nconst posts = ref([])\nconst loading = ref(false)\nconst hasMore = ref(true)\nconst currentPage = ref(1)\nconst total = ref(0)\n\n// Áî®Êà∑ ID\nconst myUserId = ref('')\n\n// ===== Á≠õÈÄâÁä∂ÊÄÅ =====\nconst showOnlyMine = ref(false)\nconst keyword = ref('')\nconst manualTagInput = ref('') // ‚Üê Êñ∞Â¢ûÔºöÊâãÂä®ËæìÂÖ•Ê†áÁ≠æ\nconst selectedTypeIndex = ref(0)\nconst dateRangeIndex = ref(3) // ÈªòËÆ§‚ÄúÂÖ®ÈÉ®‚Äù\n\n// ===== ÈÄâÈ°πÂàóË°® =====\nconst types = ref(['ÂÖ®ÈÉ®', 'ÂõæÁâá', 'ËßÜÈ¢ë', 'ÊñáÊú¨'])\nconst dateRanges = ref(['ÊúÄËøë7Â§©', 'ÊúÄËøë30Â§©', 'Ëøë3‰∏™Êúà', 'ÂÖ®ÈÉ®'])\n\n// ÂºπÁ™óÊéßÂà∂\nconst showFilter = ref(false)\nconst showDeleteConfirm = ref(false)\nconst currentPostToDelete = ref(null)\n\n// ===== ËÆ°ÁÆóÂ±ûÊÄß =====\nconst filteredPosts = computed(() => {\n  return posts.value\n})\n\n// ===== ÁîüÂëΩÂë®Êúü =====\nonMounted(async () => {\r\n  const token = uni.getStorageSync('uni_id_token')\n  const rawStorage = uni.getStorageSync('user_info')\r\n  const user_info = rawStorage?.userInfo || rawStorage || {}\r\n  uni.__f__('log','at pages/comtent/list/list.uvue:161','„ÄêList È°µÈù¢„Äëtoken Â≠òÂú®?', !!token)\r\n  uni.__f__('log','at pages/comtent/list/list.uvue:162','„ÄêList È°µÈù¢„Äëuser_info:', user_info)\r\n  uni.__f__('log','at pages/comtent/list/list.uvue:163','„ÄêList È°µÈù¢„Äëuser_info._id:', user_info?._id)\n  if (user_info?._id) {\n    myUserId.value = user_info._id\n  }else{\r\n\t  uni.__f__('warn','at pages/comtent/list/list.uvue:167','‚ö†Ô∏è Êú™Ëé∑ÂèñÂà∞Áî®Êà∑ ID')\r\n  }\r\n  \n  await fetchPosts(true)\n})\n\n// ===== Ëé∑ÂèñÂÜÖÂÆπÂàóË°® =====\nasync function fetchPosts(reset = true) {\n  if (!hasMore.value && !reset) return\n  if (loading.value) return\n\n  loading.value = true\n  if (reset) {\n    currentPage.value = 1\n    posts.value = []\n  } else {\n    currentPage.value++\n  }\n\n  try {\n    // Ëß£ÊûêÊ†áÁ≠æËæìÂÖ•ÔºöÊîØÊåÅÈÄóÂè∑ÂàÜÈöîÔºåËá™Âä®ÂéªÁ©∫Ê†º„ÄÅÂéªÈáç„ÄÅËøáÊª§Á©∫ÂÄº\n    let tagsArray = []\n    if (manualTagInput.value.trim()) {\n      tagsArray = manualTagInput.value\n        .split(',')\n        .map(t => t.trim())\n        .filter(t => t !== '')\n    }\n\n    const params = {\n      page: currentPage.value,\n      page_size: 10,\n      keyword: keyword.value.trim(),\n      content_type: '',\n      tags: tagsArray, // ‚Üê ‰ΩøÁî®ÊâãÂä®ËæìÂÖ•ÁöÑÊ†áÁ≠æÊï∞ÁªÑ\n      start_date: '',\n      end_date: ''\n    }\n\n    // Á±ªÂûã\n    if (selectedTypeIndex.value > 0) {\n      const typeMap = { 'ÂõæÁâá': 'image', 'ËßÜÈ¢ë': 'video', 'ÊñáÊú¨': 'text' }\n      params.content_type = typeMap[types.value[selectedTypeIndex.value]] || ''\n    }\n\n    // Êó•ÊúüËåÉÂõ¥\n    const now = new Date()\n    let startDate = null\n    let endDate = null\n\n    if (dateRangeIndex.value === 0) {\n      startDate = new Date(now.getTime() - 7 * 24 * 3600 * 1000)\n      endDate = now\n    } else if (dateRangeIndex.value === 1) {\n      startDate = new Date(now.getTime() - 30 * 24 * 3600 * 1000)\n      endDate = now\n    } else if (dateRangeIndex.value === 2) {\n      startDate = new Date(now.getTime() - 90 * 24 * 3600 * 1000)\n      endDate = now\n    }\n\n    if (startDate) {\n      params.start_date = formatDateISO(startDate)\n    }\n    if (endDate) {\n      params.end_date = formatDateISO(endDate)\n    }\n\n    // ‰ªÖÁúãËá™Â∑±\n    if (showOnlyMine.value && myUserId.value) {\n      params.user_id = myUserId.value\n    }\r\n\t\r\n\tuni.__f__('log','at pages/comtent/list/list.uvue:240','„ÄêÂèëÈÄÅÁªôÂêéÁ´ØÁöÑÂèÇÊï∞„Äë', params)\n\n    const res = await uniCloud.callFunction({\n      name: 'content-api',\n      data: {\n        action: 'get',\n        ...params\n      }\n    })\r\n\t\r\n\tuni.__f__('log','at pages/comtent/list/list.uvue:250','„ÄêÂêéÁ´ØÂéüÂßãËøîÂõû„Äë:', res.result)\n\n    const { code, data } = res.result\n    if (code === 200) {\n      const list = (data?.list || []).map(item => ({\n        id: item._id,\n        title: item.title || 'Êó†Ê†áÈ¢ò',\n        description: item.text_content || '',\n        author: item.user_info?.nickname || 'ÂåøÂêç', // ‚úÖ ‰ªé user_info Âèñ nickname\n        createdAt: formatDate(item.created_at),\n        type: item.content_type || 'text',\n        mediaUrl: item.media_files?.[0]?.url || '',\n        views: item.stats?.view_count || 0,\n        likes: item.stats?.like_count || 0,\n        comments: item.stats?.comment_count || 0,\n        tags: item.tags || [],\n        isMine: item.user_id === myUserId.value,\n        avatarUrl: item.avatar || 'https://picsum.photos/100/100?random=' + Math.floor(Math.random() * 100)\n      }))\n\n      if (reset) {\n        posts.value = list\n      } else {\n        posts.value.push(...list)\n      }\n\n      total.value = data?.pagination?.total || 0\n      hasMore.value = posts.value.length < total.value\n    } else {\n      uni.showToast({ title: res.result.message || 'Âä†ËΩΩÂ§±Ë¥•', icon: 'none' })\n    }\n  } catch (err) {\n    uni.__f__('error','at pages/comtent/list/list.uvue:282','[Ëé∑ÂèñÂÜÖÂÆπÂàóË°®Â§±Ë¥•]', err)\n    uni.showToast({ title: 'ÁΩëÁªúÈîôËØØÔºåËØ∑ÈáçËØï', icon: 'none' })\n  } finally {\n    loading.value = false\n  }\n}\n\n// Â∑•ÂÖ∑ÂáΩÊï∞\nfunction formatDate(dateStr) {\n  if (!dateStr) return ''\n  const d = new Date(dateStr)\n  return `${d.getFullYear()}-${String(d.getMonth() + 1).padStart(2, '0')}-${String(d.getDate()).padStart(2, '0')} ${String(d.getHours()).padStart(2, '0')}:${String(d.getMinutes()).padStart(2, '0')}`\n}\n\nfunction formatDateISO(date) {\n  return date.toISOString().split('T')[0]\n}\n\n// ===== ‰∫§‰∫íÊñπÊ≥ï =====\nfunction goUpload() {\n  uni.switchTab({ url: '/pages/comtent/upload/upload' })\n}\nfunction goProfile() {\n  uni.switchTab({ url: '/pages/user/profile/profile' })\n}\n\nfunction onSearch() {\n  fetchPosts(true)\n}\n\nfunction showFilterModal() {\n  showFilter.value = true\n}\nfunction closeFilter() {\n  showFilter.value = false\n}\nfunction applyFilters() {\n  closeFilter()\n  fetchPosts(true)\n}\n\nfunction onTypeChange(e) {\n  selectedTypeIndex.value = e.detail.value\n}\nfunction onDateRangeChange(e) {\n  dateRangeIndex.value = parseInt(e.detail.value)\r\n  uni.__f__('log','at pages/comtent/list/list.uvue:328','„ÄêÊó•ÊúüÁ¥¢ÂºïÂ∑≤Êõ¥Êñ∞‰∏∫„Äë', dateRangeIndex.value, typeof dateRangeIndex.value)\n}\n\nfunction toggleSelfOnly() {\n  showOnlyMine.value = !showOnlyMine.value\n  fetchPosts(true)\n}\n\nfunction isMyPost(post) {\n  return post.isMine\n}\n\nfunction editPost(post) {\n  uni.navigateTo({\n    url: `/pages/content/edit/edit?id=${post.id}`\n  })\n}\n\nfunction confirmDelete(post) {\n  currentPostToDelete.value = post\n  showDeleteConfirm.value = true\n}\n\nasync function deletePost() {\n  const post = currentPostToDelete.value\n  if (!post) return\n\n  try {\n    uni.showLoading({ title: 'Âà†Èô§‰∏≠...' })\n    const res = await uniCloud.callFunction({\n      name: 'content-api',\n      data: {\n        action: 'delete',\n        content_id: post.id\n      }\n    })\n\n    if (res.result.code === 200) {\n      uni.showToast({ title: 'Âà†Èô§ÊàêÂäü', icon: 'success' })\n      fetchPosts(true)\n    } else {\n      uni.showToast({ title: res.result.message || 'Âà†Èô§Â§±Ë¥•', icon: 'none' })\n    }\n  } catch (err) {\n    uni.__f__('error','at pages/comtent/list/list.uvue:372','[Âà†Èô§Â§±Ë¥•]', err)\n    uni.showToast({ title: 'Âà†Èô§Â§±Ë¥•', icon: 'none' })\n  } finally {\n    uni.hideLoading()\n    cancelDelete()\n  }\n}\n\nfunction cancelDelete() {\n  showDeleteConfirm.value = false\n  currentPostToDelete.value = null\n}\n\nfunction onScrollToLower() {\n  if (hasMore.value && !loading.value) {\n    fetchPosts(false)\n  }\n}\n</script>\n\n<style scoped>\n.container {\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n  background-color: #f8f9fa;\n  box-sizing: border-box;\r\n  padding: 120rpx 40rpx 40rpx; /* ‰∏ä„ÄÅÂ∑¶Âè≥„ÄÅ‰∏ã */\n}\r\n\n.top-nav {\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 30rpx;\n  padding: 0 10rpx;\n  position: relative;\n  z-index: 999;\n  background-color: #f8f9fa;\n}\n.nav-btn {\n  flex: 1;\n  text-align: center;\n  line-height: 60rpx;\n  background-color: #007aff;\n  color: white;\n  border-radius: 30rpx;\n  font-size: 28rpx;\n  margin: 0 10rpx;\n  user-select: none;\n}\n\n.search-bar {\n  display: flex;\n  align-items: center;\n  margin-bottom: 30rpx;\n}\n.search-bar input {\n  flex: 1;\n  padding: 15rpx 20rpx;\n  border: 1rpx solid #ddd;\n  border-radius: 30rpx;\n  font-size: 28rpx;\n}\n.search-bar button {\n  margin-left: 20rpx;\n  padding: 10rpx 20rpx;\n  background-color: #007aff;\n  color: white;\n  border-radius: 30rpx;\n  font-size: 28rpx;\n}\n\n.filter-modal {\n  background: white;\n  padding: 30rpx;\n  border-radius: 20rpx;\n  margin-bottom: 30rpx;\n  box-shadow: 0 4rpx 20rpx rgba(0,0,0,0.1);\n}\n.filter-item {\n  margin-bottom: 20rpx;\n  display: flex;\n  align-items: center;\n  gap: 20rpx;\n}\n\n.self-only-toggle {\n  margin-bottom: 30rpx;\n  text-align: center;\n}\n.self-only-toggle button {\n  padding: 10rpx 30rpx;\n  background-color: #eaeaea;\n  color: #333;\n  border-radius: 20rpx;\n  font-size: 28rpx;\n}\n.self-only-toggle button.active {\n  background-color: #007aff;\n  color: white;\n}\n\n.content-list {\n  flex: 1;\n  overflow-y: auto;\n  min-height: 0;\n}\n\n.post-item {\n  background: white;\n  border-radius: 20rpx;\n  padding: 30rpx;\n  margin-bottom: 30rpx;\n  box-shadow: 0 2rpx 12rpx rgba(0,0,0,0.05);\n}\n\n.post-header {\n  display: flex;\n  align-items: flex-start;\n  gap: 20rpx;\n}\n\n.avatar-container {\n  width: 60rpx;\n  height: 60rpx;\n  border-radius: 50%;\n  overflow: hidden;\n  background-color: #eee;\n}\n\n.avatar {\n  width: 100%;\n  height: 100%;\n}\n\n.post-author {\n  font-weight: bold;\n  color: #333;\n}\n\n.post-title {\n  margin-top: 4rpx;\n  color: #555;\n  font-size: 32rpx;\n}\n\n.post-time {\n  margin-top: 4rpx;\n  font-size: 24rpx;\n  color: #999;\n}\n\n.post-description {\n  font-size: 28rpx;\n  line-height: 1.6;\n  color: #555;\n  padding: 20rpx;\n  background-color: #f9f9f9;\n  border-radius: 10rpx;\n  margin-bottom: 20rpx;\n}\n\n.media-container {\n  width: 100%;\n  height: 300rpx;\n  margin-bottom: 20rpx;\n  border-radius: 10rpx;\n  overflow: hidden;\n}\n.media-image {\n  width: 100%;\n  height: 100%;\n}\n.media-video {\n  width: 100%;\n  height: 100%;\n}\n\n.post-footer {\n  display: flex;\n  justify-content: space-between;\n  font-size: 24rpx;\n  color: #666;\n  margin-bottom: 20rpx;\n}\n.post-actions {\n  display: flex;\n  gap: 20rpx;\n  margin-bottom: 20rpx;\n}\n.post-actions button {\n  padding: 10rpx 20rpx;\n  background-color: #f0f0f0;\n  color: #333;\n  border-radius: 20rpx;\n  font-size: 24rpx;\n}\n.post-link {\n  text-align: center;\n  color: #007aff;\n  font-size: 28rpx;\n  text-decoration: none;\n}\n\n.loading-more, .no-more, .empty-tips {\n  text-align: center;\n  padding: 30rpx;\n  color: #999;\n  font-size: 28rpx;\n}\n\n.delete-confirm {\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  background: white;\n  padding: 40rpx;\n  border-radius: 20rpx;\n  box-shadow: 0 10rpx 30rpx rgba(0,0,0,0.2);\n  text-align: center;\n  z-index: 1000;\n}\n.delete-confirm button {\n  margin-top: 20rpx;\n  padding: 15rpx 30rpx;\n  border: none;\n  border-radius: 20rpx;\n  font-size: 28rpx;\n  width: 100%;\n}\n.delete-confirm button:first-child {\n  background-color: #007aff;\n  color: white;\n}\n.delete-confirm button:last-child {\n  background-color: #ccc;\n  color: #333;\n  margin-top: 10rpx;\n}\n</style>","import MiniProgramPage from 'D:/ËΩØÂ∑•Â§ß‰Ωú‰∏ö/Â∞èÁ®ãÂ∫èÁïåÈù¢/pages/comtent/list/list.uvue'\nwx.createPage(MiniProgramPage)"],"names":["ref","computed","onMounted","__awaiter","uni","uniCloud","_a","_b"],"mappings":"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"}